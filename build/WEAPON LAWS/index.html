<!doctype html>
<html lang="en">
    <head>
        <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.7.2/leaflet.css" />
        <script type="text/javascript" src="http://cdn.leafletjs.com/leaflet-0.7.2/leaflet.js?2"></script>
    </head>
    <body>
        <div id="map" style="width:90%; height:500px;"></div>
        <h1>Crime in San Francisco</h1>
        <table border=1 cellpadding=7>
            <tr>
                <th>Category</th>
                <th>Descript</th>
                <th>Date</th>
                <th>Time</th>
                <th>Resolution</th>
            </tr>
            
            <tr>
                <td><a href="WEAPON LAWS/">WEAPON LAWS</a></td>
                <td>WEAPON, POSSESS OR BRING OTHER ON SCHOOL GROUNDS</td>
                <td>4/13/15 0:00</td>
                <td>9:00</td>
                <td>NONE</td>          
            </tr>
            
            <tr>
                <td><a href="WEAPON LAWS/">WEAPON LAWS</a></td>
                <td>POSS OF PROHIBITED WEAPON</td>
                <td>4/14/15 0:00</td>
                <td>3:44</td>
                <td>ARREST, BOOKED</td>          
            </tr>
            
            <tr>
                <td><a href="WEAPON LAWS/">WEAPON LAWS</a></td>
                <td>POSS OF PROHIBITED WEAPON</td>
                <td>4/14/15 0:00</td>
                <td>15:38</td>
                <td>ARREST, BOOKED</td>          
            </tr>
            
            <tr>
                <td><a href="WEAPON LAWS/">WEAPON LAWS</a></td>
                <td>CARRYING A CONCEALED WEAPON</td>
                <td>4/14/15 0:00</td>
                <td>20:34</td>
                <td>ARREST, BOOKED</td>          
            </tr>
            
            <tr>
                <td><a href="WEAPON LAWS/">WEAPON LAWS</a></td>
                <td>LOCATED EXPLOSIVE DEVICE</td>
                <td>4/15/15 0:00</td>
                <td>9:35</td>
                <td>NONE</td>          
            </tr>
            
            <tr>
                <td><a href="WEAPON LAWS/">WEAPON LAWS</a></td>
                <td>CARRYING A CONCEALED WEAPON</td>
                <td>4/15/15 0:00</td>
                <td>15:49</td>
                <td>ARREST, BOOKED</td>          
            </tr>
            
            <tr>
                <td><a href="WEAPON LAWS/">WEAPON LAWS</a></td>
                <td>LOITERING WHILE CARRYING CONCEALED WEAPON</td>
                <td>4/15/15 0:00</td>
                <td>15:49</td>
                <td>ARREST, BOOKED</td>          
            </tr>
            
            <tr>
                <td><a href="WEAPON LAWS/">WEAPON LAWS</a></td>
                <td>FIREARM, LOADED, IN VEHICLE, POSSESSION OR USE</td>
                <td>4/15/15 0:00</td>
                <td>23:28</td>
                <td>NONE</td>          
            </tr>
            
            <tr>
                <td><a href="WEAPON LAWS/">WEAPON LAWS</a></td>
                <td>LOCATED EXPLOSIVE DEVICE</td>
                <td>4/16/15 0:00</td>
                <td>9:30</td>
                <td>NONE</td>          
            </tr>
            
            <tr>
                <td><a href="WEAPON LAWS/">WEAPON LAWS</a></td>
                <td>POSS OF FIREARM BY CONVICTED FELON/ADDICT/ALIEN</td>
                <td>4/16/15 0:00</td>
                <td>1:00</td>
                <td>NONE</td>          
            </tr>
            
            <tr>
                <td><a href="WEAPON LAWS/">WEAPON LAWS</a></td>
                <td>POSS OF LOADED FIREARM</td>
                <td>4/16/15 0:00</td>
                <td>1:00</td>
                <td>NONE</td>          
            </tr>
            
            <tr>
                <td><a href="WEAPON LAWS/">WEAPON LAWS</a></td>
                <td>POSS OF PROHIBITED WEAPON</td>
                <td>4/16/15 0:00</td>
                <td>2:45</td>
                <td>ARREST, BOOKED</td>          
            </tr>
            
            <tr>
                <td><a href="WEAPON LAWS/">WEAPON LAWS</a></td>
                <td>POSS OF TEAR GAS WEAPON</td>
                <td>4/16/15 0:00</td>
                <td>9:40</td>
                <td>ARREST, BOOKED</td>          
            </tr>
            
            <tr>
                <td><a href="WEAPON LAWS/">WEAPON LAWS</a></td>
                <td>CARRYING A CONCEALED WEAPON</td>
                <td>4/16/15 0:00</td>
                <td>20:20</td>
                <td>ARREST, BOOKED</td>          
            </tr>
            
            <tr>
                <td><a href="WEAPON LAWS/">WEAPON LAWS</a></td>
                <td>EXHIBITING DEADLY WEAPON IN A THREATING MANNER</td>
                <td>4/16/15 0:00</td>
                <td>20:20</td>
                <td>ARREST, BOOKED</td>          
            </tr>
            
            <tr>
                <td><a href="WEAPON LAWS/">WEAPON LAWS</a></td>
                <td>POSS OF FIREARM BY CONVICTED FELON/ADDICT/ALIEN</td>
                <td>4/16/15 0:00</td>
                <td>20:52</td>
                <td>NONE</td>          
            </tr>
            
            <tr>
                <td><a href="WEAPON LAWS/">WEAPON LAWS</a></td>
                <td>POSS OF LOADED FIREARM</td>
                <td>4/16/15 0:00</td>
                <td>20:52</td>
                <td>NONE</td>          
            </tr>
            
            <tr>
                <td><a href="WEAPON LAWS/">WEAPON LAWS</a></td>
                <td>POSS OF FIREARM BY CONVICTED FELON/ADDICT/ALIEN</td>
                <td>4/16/15 0:00</td>
                <td>22:48</td>
                <td>ARREST, BOOKED</td>          
            </tr>
            
            <tr>
                <td><a href="WEAPON LAWS/">WEAPON LAWS</a></td>
                <td>AMMUNITION, POSS. BY PROHIBITED PERSON</td>
                <td>4/16/15 0:00</td>
                <td>20:52</td>
                <td>NONE</td>          
            </tr>
            
            <tr>
                <td><a href="WEAPON LAWS/">WEAPON LAWS</a></td>
                <td>WEAPON, POSSESS OR BRING OTHER ON SCHOOL GROUNDS</td>
                <td>4/17/15 0:00</td>
                <td>8:30</td>
                <td>JUVENILE BOOKED</td>          
            </tr>
            
            <tr>
                <td><a href="WEAPON LAWS/">WEAPON LAWS</a></td>
                <td>WEAPON, POSSESSING IN PUBLIC BUILDING OR OPEN MEETING</td>
                <td>4/18/15 0:00</td>
                <td>16:10</td>
                <td>ARREST, BOOKED</td>          
            </tr>
            
        </table>
        <script type="text/javascript">
            var map = L.map('map').setView([37.777241,  -122.423867], 13);
            var mapquestLayer = new L.TileLayer('http://{s}.mqcdn.com/tiles/1.0.0/map/{z}/{x}/{y}.png', {
                maxZoom: 18,
                attribution: 'Data, imagery and map information provided by <a href="http://open.mapquest.co.uk" target="_blank">MapQuest</a>,<a href="http://www.openstreetmap.org/" target="_blank">OpenStreetMap</a> and contributors.',
                subdomains: ['otile1','otile2','otile3','otile4']
            });
            map.addLayer(mapquestLayer);
            var data = {
              "type": "FeatureCollection",
              "features": [
                
                {
                  "type": "Feature",
                  "properties": {
                    "Category": "WEAPON LAWS",
                    "Descript": "WEAPON, POSSESS OR BRING OTHER ON SCHOOL GROUNDS"
                  },
                  "geometry": {
                    "type": "Point",
                    "coordinates": [-122.4241235, 37.80336134]
                  }
                },
                
                {
                  "type": "Feature",
                  "properties": {
                    "Category": "WEAPON LAWS",
                    "Descript": "POSS OF PROHIBITED WEAPON"
                  },
                  "geometry": {
                    "type": "Point",
                    "coordinates": [-122.4331939, 37.72691116]
                  }
                },
                
                {
                  "type": "Feature",
                  "properties": {
                    "Category": "WEAPON LAWS",
                    "Descript": "POSS OF PROHIBITED WEAPON"
                  },
                  "geometry": {
                    "type": "Point",
                    "coordinates": [-122.4133492, 37.80846674]
                  }
                },
                
                {
                  "type": "Feature",
                  "properties": {
                    "Category": "WEAPON LAWS",
                    "Descript": "CARRYING A CONCEALED WEAPON"
                  },
                  "geometry": {
                    "type": "Point",
                    "coordinates": [-122.4198329, 37.76746253]
                  }
                },
                
                {
                  "type": "Feature",
                  "properties": {
                    "Category": "WEAPON LAWS",
                    "Descript": "LOCATED EXPLOSIVE DEVICE"
                  },
                  "geometry": {
                    "type": "Point",
                    "coordinates": [-122.3799518, 37.74210344]
                  }
                },
                
                {
                  "type": "Feature",
                  "properties": {
                    "Category": "WEAPON LAWS",
                    "Descript": "CARRYING A CONCEALED WEAPON"
                  },
                  "geometry": {
                    "type": "Point",
                    "coordinates": [-122.4110714, 37.78175113]
                  }
                },
                
                {
                  "type": "Feature",
                  "properties": {
                    "Category": "WEAPON LAWS",
                    "Descript": "LOITERING WHILE CARRYING CONCEALED WEAPON"
                  },
                  "geometry": {
                    "type": "Point",
                    "coordinates": [-122.4110714, 37.78175113]
                  }
                },
                
                {
                  "type": "Feature",
                  "properties": {
                    "Category": "WEAPON LAWS",
                    "Descript": "FIREARM, LOADED, IN VEHICLE, POSSESSION OR USE"
                  },
                  "geometry": {
                    "type": "Point",
                    "coordinates": [-122.3879274, 37.74270308]
                  }
                },
                
                {
                  "type": "Feature",
                  "properties": {
                    "Category": "WEAPON LAWS",
                    "Descript": "LOCATED EXPLOSIVE DEVICE"
                  },
                  "geometry": {
                    "type": "Point",
                    "coordinates": [-122.3799518, 37.74210344]
                  }
                },
                
                {
                  "type": "Feature",
                  "properties": {
                    "Category": "WEAPON LAWS",
                    "Descript": "POSS OF FIREARM BY CONVICTED FELON/ADDICT/ALIEN"
                  },
                  "geometry": {
                    "type": "Point",
                    "coordinates": [-122.4368679, 37.72204865]
                  }
                },
                
                {
                  "type": "Feature",
                  "properties": {
                    "Category": "WEAPON LAWS",
                    "Descript": "POSS OF LOADED FIREARM"
                  },
                  "geometry": {
                    "type": "Point",
                    "coordinates": [-122.4368679, 37.72204865]
                  }
                },
                
                {
                  "type": "Feature",
                  "properties": {
                    "Category": "WEAPON LAWS",
                    "Descript": "POSS OF PROHIBITED WEAPON"
                  },
                  "geometry": {
                    "type": "Point",
                    "coordinates": [-122.4052264, 37.76140689]
                  }
                },
                
                {
                  "type": "Feature",
                  "properties": {
                    "Category": "WEAPON LAWS",
                    "Descript": "POSS OF TEAR GAS WEAPON"
                  },
                  "geometry": {
                    "type": "Point",
                    "coordinates": [-122.4148786, 37.7826335]
                  }
                },
                
                {
                  "type": "Feature",
                  "properties": {
                    "Category": "WEAPON LAWS",
                    "Descript": "CARRYING A CONCEALED WEAPON"
                  },
                  "geometry": {
                    "type": "Point",
                    "coordinates": [-122.412597, 37.78111921]
                  }
                },
                
                {
                  "type": "Feature",
                  "properties": {
                    "Category": "WEAPON LAWS",
                    "Descript": "EXHIBITING DEADLY WEAPON IN A THREATING MANNER"
                  },
                  "geometry": {
                    "type": "Point",
                    "coordinates": [-122.412597, 37.78111921]
                  }
                },
                
                {
                  "type": "Feature",
                  "properties": {
                    "Category": "WEAPON LAWS",
                    "Descript": "POSS OF FIREARM BY CONVICTED FELON/ADDICT/ALIEN"
                  },
                  "geometry": {
                    "type": "Point",
                    "coordinates": [-122.4156055, 37.76771775]
                  }
                },
                
                {
                  "type": "Feature",
                  "properties": {
                    "Category": "WEAPON LAWS",
                    "Descript": "POSS OF LOADED FIREARM"
                  },
                  "geometry": {
                    "type": "Point",
                    "coordinates": [-122.4156055, 37.76771775]
                  }
                },
                
                {
                  "type": "Feature",
                  "properties": {
                    "Category": "WEAPON LAWS",
                    "Descript": "POSS OF FIREARM BY CONVICTED FELON/ADDICT/ALIEN"
                  },
                  "geometry": {
                    "type": "Point",
                    "coordinates": [-122.418382, 37.78325838]
                  }
                },
                
                {
                  "type": "Feature",
                  "properties": {
                    "Category": "WEAPON LAWS",
                    "Descript": "AMMUNITION, POSS. BY PROHIBITED PERSON"
                  },
                  "geometry": {
                    "type": "Point",
                    "coordinates": [-122.4156055, 37.76771775]
                  }
                },
                
                {
                  "type": "Feature",
                  "properties": {
                    "Category": "WEAPON LAWS",
                    "Descript": "WEAPON, POSSESS OR BRING OTHER ON SCHOOL GROUNDS"
                  },
                  "geometry": {
                    "type": "Point",
                    "coordinates": [-122.4900934, 37.78079208]
                  }
                },
                
                {
                  "type": "Feature",
                  "properties": {
                    "Category": "WEAPON LAWS",
                    "Descript": "WEAPON, POSSESSING IN PUBLIC BUILDING OR OPEN MEETING"
                  },
                  "geometry": {
                    "type": "Point",
                    "coordinates": [-122.4190672, 37.80733393]
                  }
                }
                
              ]
            };
            var dataLayer = L.geoJson(data, {
                onEachFeature: function(feature, layer) {
                    layer.bindPopup(
                        '<a href="' + feature.properties.Category + '/">' +
                            feature.properties.Category +
                        '</a>'
                    );
                }
            });
            map.addLayer(dataLayer);            
        </script>        
    </body>
</html>